buildscript {
  repositories {
    mavenCentral()
    maven { url "https://oss.sonatype.org/content/groups/staging" }
  }

  dependencies {
    classpath ("com.glasstowerstudios.gruel:gruel:${project.GRUEL_VERSION}")
  }
}


apply plugin: 'com.android.application'

android {
  compileSdkVersion 23
  buildToolsVersion "23.0.1"

  signingConfigs {
    if (project.hasProperty("GTS_RELEASE_STORE_FILE")) {
      release {
        storeFile file(GTS_RELEASE_STORE_FILE)
        storePassword GTS_RELEASE_STORE_PASSWORD
        keyAlias GTS_RELEASE_KEY_ALIAS
        keyPassword GTS_RELEASE_KEY_PASSWORD
      }
    }
  }

  defaultConfig {
    applicationId "com.glasstowerstudios.rucksack"
    minSdkVersion 14
    targetSdkVersion 23
    versionCode project.RUCKSACK_VERSION_CODE as int
    versionName project.RUCKSACK_VERSION_NAME
  }
  buildTypes {
    release {
      if (project.hasProperty("GTS_RELEASE_STORE_FILE")) {
        signingConfig signingConfigs.release
      }

      zipAlignEnabled true
      minifyEnabled false
      proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'
    }
  }
}

apply plugin: 'gruel'

gruel {
  archiveName "%appName%", "%version%", "%buildType%", "%commitHash%"
  version android.defaultConfig.versionName
  commitHash gitSha()
}

dependencies {
  compile fileTree(dir: 'libs', include: ['*.jar'])
  testCompile 'junit:junit:4.12'
  compile 'com.android.support:appcompat-v7:23.0.1'
  compile 'com.android.support:design:23.0.1'
  compile 'com.jakewharton:butterknife:7.0.1'
  compile 'com.google.code.gson:gson:2.5'
  compile 'joda-time:joda-time:2.9.1'
}
